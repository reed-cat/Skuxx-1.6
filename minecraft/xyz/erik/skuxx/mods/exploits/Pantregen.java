package xyz.erik.skuxx.mods.exploits;

import net.minecraft.network.play.client.C01PacketChatMessage;
import net.minecraft.network.play.client.C03PacketPlayer;
import net.minecraft.network.play.client.C0BPacketEntityAction;
import net.minecraft.potion.Potion;
import net.minecraft.potion.PotionEffect;
import xyz.erik.api.config.vals.Int;
import xyz.erik.api.helpers.ErikTimer;
import xyz.erik.api.mod.Mod;
import xyz.erik.api.notification.Notification;
import xyz.erik.api.notification.NotificationManager;
import xyz.erik.skuxx.event.Event;
import xyz.erik.skuxx.event.EventTarget;
import xyz.erik.skuxx.event.events.EventMotion;

public class Pantregen
extends Mod{



    private ErikTimer timer = new ErikTimer();

    @EventTarget
    private void onUpdate(final EventMotion e) {
        if (e.getMotion() == Event.Motion.AFTER) {
            if (getPlayer().inventory.armorInventory[1] != null) {
                if (getPlayer().hurtTime != 0 && timer.delay(50) && getPlayer().isPotionActive(Potion.regeneration ))  {
                    for (int i= 5; i > 0;i--) {
                        getPlayer().sendPacket(new C03PacketPlayer.C04PacketPlayerPosition(getPlayer().posX,getPlayer().posY,getPlayer().posZ,true));
                    }
                    timer.reset();
                }
            }

        }
    }



}
